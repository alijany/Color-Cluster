!function(t){function e(e){for(var n,c,u=e[0],i=e[1],s=e[2],d=0,f=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);for(l&&l(e);f.length;)f.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,u=1;u<r.length;u++){var i=r[u];0!==o[i]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},o={0:0},a=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=i;a.push([2,1]),r()}([function(t,e,r){"use strict";(function(t){r.d(e,"e",(function(){return a})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return l})),r.d(e,"d",(function(){return d}));var n=r(2),o=r(5),a=[],c=[],u=0,i=0;function s(){c=[];for(var e=0;e<n.clusterCount;e++){var r=Math.floor(Math.random()*(a.length-1)),u=a[r].pos.x,i=a[r].pos.y,s=a[r].pos.z,l="rgb(".concat(u+127,",").concat(i+127,",").concat(s+127,")");c.push({pos:new o.Vector3(u,i,s),sum:new o.Vector3(0,0,0),dataCount:0,label:t("<div></div>").addClass("color").css("background-color",l),color:l})}Object(n.appendLabels)(c.map((function(t){return t.label})))}function l(t){!function(t){a=[];for(var e=0;e<t.width;e++)for(var r=0;r<t.height;r++){var n=4*(r*t.width+e),c=t.data[n],u=t.data[n+1],i=t.data[n+2];a.push({pos:new o.Vector3(c-127,u-127,i-127),color:"rgb("+c+","+u+","+i+")"})}}(t),s()}function d(t){var e=setInterval((function(){u-i<2?(u++,function(){for(var t=0;t<a.length;t++){for(var e=c[0].pos.distanceTo(a[t].pos),r=0,o=1;o<n.clusterCount;o++){var s=c[o].pos.distanceTo(a[t].pos);s<e&&(e=s,r=o)}a[t].cluster!=r&&(i=u),a[t].cluster=r}}(),function(){var t;for(t=0;t<a.length;t++){var e=a[t].cluster;c[e].sum=c[e].sum.add(a[t].pos),c[e].dataCount+=1}for(t=0;t<n.clusterCount;t++){c[t].dataCount&&(c[t].pos=c[t].sum.divideScalar(c[t].dataCount)),c[t].sum=new o.Vector3(0,0,0),c[t].dataCount=0;var r=Math.floor(c[t].pos.x)+127,u=Math.floor(c[t].pos.y)+127,i=Math.floor(c[t].pos.z)+127,s="rgb(".concat(r,",").concat(u,",").concat(i,")");c[t].color=s,c[t].label.css("background-color",s)}}(),t()):(u=0,i=0,clearInterval(e))}),100)}}).call(this,r(1))},,function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"updateImage",(function(){return f})),r.d(e,"clusterCount",(function(){return g})),r.d(e,"appendLabels",(function(){return h}));r(9),r(10);var n=r(3),o=r(0),a=r(7),c=r.n(a),u=(r(13),r(14),r(15),r(18));r(16);t(".slider").slider({instructionText:"drag to compare"});var i,s=new Image,l=document.getElementById("image-canvas");function d(){var e=document.getElementById("original-canvas"),r=t(".tab-content").width(),o=r/s.width*s.height;e.width=r,e.height=o,l.width=r,l.height=o;var a=e.getContext("2d");a.drawImage(s,0,0,s.width,s.height,0,0,r,o),(a=l.getContext("2d")).drawImage(s,0,0,s.width,s.height,0,0,r,o),t("#image-tab").removeClass("disabled"),t("#run").removeClass("disabled"),t("#image-tab").tab("show"),i=a.getImageData(0,0,e.width,e.height),Object(n.a)(i)}function f(t){for(var e=0,r=0;r<i.width;r++)for(var n=0;n<i.height;n++){var a=o.a[t[e].cluster].pos;e++;var c=4*(n*i.width+r);i.data[c]=a.x+127,i.data[c+1]=a.y+127,i.data[c+2]=a.z+127,i.data[c+3]=255}l.getContext("2d").putImageData(i,0,0)}var p=new FileReader;p.addEventListener("load",(function(t){s.onload=d,s.src=t.target.result})),t(".drop_zone").on("click",(function(){t("#file-input").trigger("click")})),t("#file-input").on("change",(function(t){var e=t.target.files[0];p.readAsDataURL(e)})),t(".drop_zone").on("drop",(function(t){var e;t.preventDefault(),t.dataTransfer=t.originalEvent.dataTransfer,e=t.dataTransfer.items?t.dataTransfer.items[0].getAsFile():t.dataTransfer.files[0].name,p.readAsDataURL(e)})),t(".drop_zone").on("dragover",(function(t){t.preventDefault()}));var A=0;t(".drop_zone").on("dragenter",(function(e){return A++,t(".drop_zone").css("background-color","#f7f7f7"),e.stopPropagation(),e.preventDefault(),!1})),t(".drop_zone").on("dragleave dragexit",(function(e){return 0===--A&&t(".drop_zone").css("background-color","#fff"),e.stopPropagation(),e.preventDefault(),!1}));var g=12,v=t("#clusters");function h(e){var r=t(".colors");r.text(""),e.forEach((function(t){r.append(t)})),Object(u.a)(".color",{content:"",onTrigger:function(e){var r=t(e.reference).css("background-color");e.setContent(w(r))}})}function w(t){var e=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete e[0];for(var r=1;r<=3;++r)e[r]=parseInt(e[r]).toString(16),1==e[r].length&&(e[r]="0"+e[r]);return"#"+e.join("")}t("#cluster-slider").on("input",(function(t){g=t.target.value,v.html(g)})),t("#cluster-slider").on("change",o.c),t(".toast").toast({delay:3e3}),t(".colors").on("click",".color",(function(e){var r=t(e.target).css("background-color");c()(w(r)),t(".toast").toast("show")})),t("#run").on("click",(function(){Object(n.b)()}))}.call(this,r(1))},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return C})),r.d(e,"b",(function(){return y}));var n=r(6),o=r.n(n),a=r(0),c=r(2);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var i=r(5),s=r(11)(i),l=new i.Scene;l.background=new i.Color(16777215);var d=new i.PerspectiveCamera(75,1.4,.1,2e3);d.position.set(200,200,200),d.lookAt(0,0,0);var f=new i.WebGLRenderer({antialias:!0});f.setSize(t("#chart-container").width(),t("#chart-container").height());var p,A=document.getElementById("chart-container");A.appendChild(f.domElement);var g=new Image;g.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg==";var v=(new i.TextureLoader).load(g.src),h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.PointsMaterial(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({size:10,sizeAttenuation:!1,map:v,alphaTest:.5,transparent:!0},t))}({vertexColors:i.VertexColors});function w(t,e){for(var r=new i.Geometry,n=0;n<t.length;n++)r.vertices.push(t[n]),r.colors.push(new i.Color(e?e[n]:"white"));var o=new i.Points(r,h);return l.add(o),o}function b(t,e,r){var n=new i.Geometry;n.vertices.push(t),n.vertices.push(e);var o=new i.LineBasicMaterial({color:r});l.add(new i.Line(n,o))}function m(t){for(var e=l.children.length-1;e>=t;e--)l.remove(l.children[e])}function C(t){Object(a.b)(t),function(){m(3);var t=a.e.map((function(t){return t.color}));p=w(a.e.map((function(t){return t.pos})),t),t=a.a.map((function(t){return t.color})),w(a.a.map((function(t){return t.pos})),t)}()}function O(){m(4);var t,e,r,n=a.a.map((function(t){return t.color}));w(a.a.map((function(t){return t.pos})),n);for(var o=0;o<a.e.length;o++)t=p,e=o,r=a.a[a.e[o].cluster].color,t.geometry.colors[e]=new i.Color(r);Object(c.updateImage)(a.e),p.geometry.colorsNeedUpdate=!0}function y(){Object(a.d)(O)}b(new i.Vector3(-700,0,0),new i.Vector3(700,0,0),13027014),b(new i.Vector3(0,-500,0),new i.Vector3(0,500,0),13027014),b(new i.Vector3(0,0,-700),new i.Vector3(0,0,700),13027014);var j=new s(d,A);j.autoRotate=!0,j.autoRotateSpeed=.5,j.update(),function t(){requestAnimationFrame(t),j.update(),f.render(l,d)}()}).call(this,r(1))},,,,,,function(t,e,r){}]);